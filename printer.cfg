[include mmu/optional/client_macros.cfg]
[include mmu/addons/blobifier.cfg]
[include mmu/base/*.cfg]
#[include adxl345.cfg] # needed to install klipper to host
[include bedfans-dualcontrol.cfg]
[include cartographer.cfg]
[include ebb.cfg]
#[include basic_macro.cfg]
[include faketoolchange.cfg]
[include heater.cfg]
[include kiauh_macros.cfg]
[include klipper_update.cfg]
[include pins.cfg]
[include speedtest.cfg]
[include stepper_fan.cfg]
[include steppers.cfg]
[include test_macro.cfg]
#[include user_vars.cfg]

[virtual_sdcard]
path: ~/printer_data/gcodes
on_error_gcode:
  CANCEL_PRINT

[pause_resume]
[endstop_phase]
[display_status]
#[skew_correction] 
[gcode_arcs]
#resolution: 1.0
[exclude_object]

[force_move]
enable_force_move: True

[firmware_retraction]
retract_length: 0.75
retract_speed: 30
unretract_extra_length: 0
unretract_speed: 30

[mcu]
##--------------------------------------------------------------------
# serial: /dev/serial/by-id/usb-Klipper_stm32f429xx_2E004E001450304738313820-if00
# restart_method: command
##--------------------------------------------------------------------
canbus_uuid: ce5f75f5c4f0
canbus_interface: can0

[printer]
kinematics = corexy
max_velocity = 500
max_accel = 30000
minimum_cruise_ratio = 0.75
#max_accel_to_decel = 20000
max_z_velocity = 30
max_z_accel = 700
square_corner_velocity = 30.0

[homing_heaters]
steppers: stepper_z
heaters: extruder

[temperature_sensor Octopus]
sensor_type: temperature_mcu
min_temp: 0
max_temp: 150

[temperature_sensor RaspberryPi]
sensor_type: temperature_host

[input_shaper]
##  A frequency (in Hz) of the input shaper for X or Y axis. 
shaper_freq_x: 66
shaper_freq_y: 46.4

##  A type of the intput shaper for X or Y axia.
shaper_type_x: mzv
shaper_type_y: mzv
##  Damping ratios of vibrations of X and Y axes used by input shapers
##  to improve vibration suppression. Default value is 0.1 which is a
##  good all-round value for most printers. In most circumstances this
##  parameter requires no tuning and should not be changed.
#damping_ratio_x: 0.1
#damping_ratio_y: 0.1

[fan_generic exhaust_fan1]
# SET_FAN_SPEED FAN=exhaust_fan1 SPEED=0.5
pin: HE3
max_power: 1.0
shutdown_speed: 0.0
kick_start_time: 1.0
#heater: heater_bed
#heater_temp: 60
#fan_speed: 0.50

[multi_pin exhaust_gelid_fans_pins]
pins: FAN4, FAN0

[fan_generic exhaust_fan2]
pin: multi_pin:exhaust_gelid_fans_pins
max_power: 1.0
shutdown_speed: 0.0
kick_start_time: 1.0
#heater: heater_bed
#heater_temp: 60
#fan_speed: 0.50

[gcode_macro SET_VELOCITY_LIMITS]
gcode:
    {% set ACCEL = params.ACCEL|default(10000) %}
    SET_VELOCITY_LIMIT ACCEL_TO_DECEL={ACCEL}
    SET_VELOCITY_LIMIT ACCEL={ACCEL}

#[gcode_macro _CG28]
#description: Helper: Conditional homing
#gcode:
#  {% if "xyz" not in printer.toolhead.homed_axes %} 
#     G28
#  {% endif %}

[gcode_macro M486]
description: Cancel print objects
gcode:
  # Parameters known to M486 are as follows:
  #   [C<flag>] Cancel the current object
  #   [P<index>] Cancel the object with the given index
  #   [S<index>] Set the index of the current object.
  #       If the object with the given index has been canceled, this will cause
  #       the firmware to skip to the next object. The value -1 is used to
  #       indicate something that isn’t an object and shouldn’t be skipped.
  #   [T<count>] Reset the state and set the number of objects
  #   [U<index>] Un-cancel the object with the given index. This command will be
  #       ignored if the object has already been skipped

  {% if 'exclude_object' not in printer %}
    {action_raise_error("[exclude_object] is not enabled")}
  {% endif %}

  {% if 'T' in params %}
    EXCLUDE_OBJECT RESET=1

    {% for i in range(params.T | int) %}
      EXCLUDE_OBJECT_DEFINE NAME={i}
    {% endfor %}
  {% endif %}

  {% if 'C' in params %}
    EXCLUDE_OBJECT CURRENT=1
  {% endif %}

  {% if 'P' in params %}
    EXCLUDE_OBJECT NAME={params.P}
  {% endif %}

  {% if 'S' in params %}
    {% if params.S == '-1' %}
      {% if printer.exclude_object.current_object %}
        EXCLUDE_OBJECT_END NAME={printer.exclude_object.current_object}
      {% endif %}
    {% else %}
      EXCLUDE_OBJECT_START NAME={params.S}
    {% endif %}
  {% endif %}

  {% if 'U' in params %}
    EXCLUDE_OBJECT RESET=1 NAME={params.U}
  {% endif %}


#####################################################################
# 	LED Control
#####################################################################

#[output_pin caselight]
# Chamber Lighting - HE1 Connector (Optional)
#pin: PA3
#pwm:true
#shutdown_value: 0
#value:1
#cycle_time: 0.01


#####################################################################
#  Idle Timeout 
#####################################################################
[delayed_gcode my_delayed_gcode]
gcode:
  M117 Ready
  M119
initial_duration: 1

[idle_timeout]
gcode:
  {% if printer.webhooks.state|lower == 'ready' %}
    {% if not printer.pause_resume.is_paused %}
      TURN_OFF_HEATERS
      M84
      _POWEROFF
    {% endif %}
  {% endif %}
# 1h timeout
timeout: 3600

[gcode_macro _POWEROFF]
gcode:
  RUN_SHELL_COMMAND CMD=git_store
  RUN_SHELL_COMMAND CMD=poweroff_host

[gcode_shell_command git_store]
command: sudo systemctl start git_store
timeout: 60.0
verbose: True

[gcode_shell_command poweroff_host]
command: sudo poweroff
timeout: 60.0
verbose: True

[gcode_macro BLOBIFIER_QGL]
gcode:
    # https://www.teamfdm.com/forums/topic/1115-not-to-g28-or-qgl-every-time-from-start-macro-if-its-already-done/?do=findComment&comment=8416
    # 1 ----- HOMING ------------------------------------------
    # Home if not already homed and park the head near the center front
    {% if not 'xyz' in printer.toolhead.homed_axes %}
        G28
    {% endif %}

    # 4 ----- QUAD GANTRY LEVELING -----------------------------
    {% if printer.quad_gantry_level.applied|lower == 'false' %}
        QUAD_GANTRY_LEVEL
    {% endif %}

    MMU_ENCODER ENABLE=0
    {% if 'PURGE_LENGTH' in params %}
      BLOBIFIER PURGE_LENGTH={params.PURGE_LENGTH}
    {% else %}
      BLOBIFIER
    {% endif %}
    MMU_ENCODER ENABLE=1

[gcode_macro G32]
gcode:
    SAVE_GCODE_STATE NAME=STATE_G32
    M84
    BED_MESH_CLEAR
    G28
    QUAD_GANTRY_LEVEL
    G28 Z0
    RESTORE_GCODE_STATE NAME=STATE_G32

[gcode_macro _SET_PARAMS]
variable_save_params: {'retract'           : 0.0,
                       'pressure_advance'  : 0.0 }
variable_params: {'retract'          : '0',
                  'pressure_advance' : '0'}

  #############  Store input parameters  #############
gcode:
  {% set save_params = {'retract'           : printer['firmware_retraction'].retract_length|default(0)|float|round(2),
                        'pressure_advance'  : printer['extruder'].pressure_advance|default(0)|float|round(3)} %}
  {% set params = {'retract'          : params.RETRACT_LEN|default(printer['firmware_retraction'].retract_length)|float|round(2),
                   'pressure_advance' : params.PRESSURE_ADVANCE|default(printer['extruder'].pressure_advance)|float|round(3)} %}

  { action_respond_info("Saved retract: %.2f pressure_advance: %.3f" % (save_params.retract, save_params.pressure_advance)) }
  SET_RETRACTION RETRACT_LENGTH={params.retract}
  SET_PRESSURE_ADVANCE EXTRUDER=extruder ADVANCE={params.pressure_advance}
  { action_respond_info("Set retract: %.2f pressure_advance: %.3f" % (params.retract, params.pressure_advance)) }
  SET_GCODE_VARIABLE MACRO=_SET_PARAMS VARIABLE=save_params VALUE="{save_params}"

[gcode_macro _RESTORE_PARAMS]
variable_save_params: {'retract' : 0.0,
                       'pressure_advance'  : 0.0 }
gcode:
  {% set save_params = {
                 'retract'           : printer['gcode_macro _SET_PARAMS'].save_params.retract,
                 'pressure_advance'  : printer['gcode_macro _SET_PARAMS'].save_params.pressure_advance } %}

  SET_RETRACTION RETRACT_LENGTH={save_params.retract}
  SET_PRESSURE_ADVANCE EXTRUDER=extruder ADVANCE={save_params.pressure_advance}
  { action_respond_info("Restored retract: %.2f pressure_advance: %.3f" % (save_params.retract, save_params.pressure_advance)) }

[gcode_macro Save_Pressure_Advance]
description: Save the current pressure advance value
variable_pa: -1
gcode:
    {% set pa = printer.extruder.pressure_advance %}
    {% if pa > 0 %}
        SET_GCODE_VARIABLE MACRO=Save_Pressure_Advance VARIABLE=pa VALUE={pa}
    {% endif %}

[gcode_macro Restore_Pressure_Advance]
description: Restore saved pressure advance value
gcode:
    {% if not (printer["gcode_macro Save_Pressure_Advance"].pa == -1) %}
        SET_PRESSURE_ADVANCE ADVANCE={printer["gcode_macro Save_Pressure_Advance"].pa}
    {% endif %}


[gcode_macro CLEAN_NOZZLE_depricated]
description: CLEAN_NOZZLE
variable_MOVE: True
gcode:
    {% set E = params.E|default(1.7)|float %}
    {% set move = False if params.MOVE|default(0)|int == 0 else True %}
    {% set heigh_z = printer.toolhead.position.z|float %}

    SAVE_GCODE_STATE NAME=CLEAN_NOZZLE_state
    
    G90                         ; absolute positioning
    G0 X80 Y352 F16000
    G0 Z0 X81 F3000

    G91                            ; relative positioning
    G0 X40 Y4 F8000
    G0 X-40 Y-4 F8000
    G0 X40 F8000
    G0 X-40 Y4 F8000
    G0 X40 Y-4 F8000
    G0 Z10 F3000
    G90
    
    {% if move %}
        G0 Z{heigh_z}
        RESTORE_GCODE_STATE NAME=CLEAN_NOZZLE_state MOVE=1
    {% endif %}

[gcode_macro PRINT_PRESTART]
description: All cmd needed at print start
variable_save_params: {'retract' : 0.0,
                       'pressure_advance'  : 0.0 }

variable_var: {'temp'        : {'extruder': 245.0, 'bed': 100.0, 'chamber': 40.0, 'endstop': 0.0},
               'delta'       : {'chamber': 5.0, 'bed': 10},
               'time'        : {'soak' : 1800, 'soak_extra': 900},
               'redo_qgl'    : True,
               'prime_height': 0.0,
               'z_adjust'    : 0.0,
               'filter'      : True,
               'retract'     : '0',
               'pressure_advance' : '0'}

;Start Gcode
gcode:
#    {% if printer['firmware_retraction'].retract_length > 0 %}
#       {% set save_params = {'retract'           : printer['firmware_retraction'].retract_length|default(0)|float|round(2),
#                             'pressure_advance'  : printer['extruder'].pressure_advance|default(0)|float|round(3)} %}
#       { action_respond_info("Saved retract: %.2f pressure_advance: %.3f" % (save_params.retract, save_params.pressure_advance)) }
#    {% else %}
#       { action_respond_info("Retract and pressure_advance not stored as they are zero value.") }
#    {% endif %}

    #############  Store input parameters  #############
    {% set MINX = params.MINX|default(printer.configfile.settings.bed_mesh.mesh_min[0])|float %}
    {% set MINY = params.MINY|default(printer.configfile.settings.bed_mesh.mesh_min[1])|float %}    
    {% set MAXX = params.MAXX|default(printer.configfile.settings.bed_mesh.mesh_max[0])|float %}
    {% set MAXY = params.MAXY|default(printer.configfile.settings.bed_mesh.mesh_max[1])|float %}

    {% set MINX = (MINX if MINX|float > printer.configfile.settings.bed_mesh.mesh_min[0]|float else printer.configfile.settings.bed_mesh.mesh_min[0])|float %}
    {% set MINY = (MINY if MINY|float > printer.configfile.settings.bed_mesh.mesh_min[1]|float else printer.configfile.settings.bed_mesh.mesh_min[1])|float %}
    {% set MAXX = (MAXX if MAXX|float < printer.configfile.settings.bed_mesh.mesh_max[0]|float else printer.configfile.settings.bed_mesh.mesh_max[0])|float %}
    {% set MAXY = (MAXY if MAXY|float < printer.configfile.settings.bed_mesh.mesh_max[1]|float else printer.configfile.settings.bed_mesh.mesh_max[1])|float %}

    {% set X_COUNT = ((MAXX-MINX)/40)|int %}
    {% set Y_COUNT = ((MAXY-MINY)/40)|int %}
    {% set X_COUNT = X_COUNT if  X_COUNT > 3 else 3 %}
    {% set Y_COUNT = Y_COUNT if  Y_COUNT > 3 else 3 %}
    {% set X_COUNT = ((Y_COUNT+1)/2)|int if (Y_COUNT|float/X_COUNT|float) > 2.0 else X_COUNT %}
    {% set Y_COUNT = ((X_COUNT+1)/2)|int if (X_COUNT|float/Y_COUNT|float) > 2.0 else Y_COUNT %}

    {% set RRI = ((X_COUNT * Y_COUNT) / 2 + 1)|int %}

    {action_respond_info( "MINX %.2f, MINY %.2f, MAXX %.2f, MAXY %.2f, X_COUNT %d, Y_COUNT %d, RRI %d\n" % ( MINX, MINY, MAXX, MAXY, X_COUNT, Y_COUNT, RRI) )}
 
    {% set var = {'temp': {'extruder': params.EXTRUDER_TEMP|default(245)|float|round(1),
                           'bed'     : params.BED_TEMP|default(100)|float|round(1),
                           'chamber' : params.CHAMBER_TEMP|default(50)|float|round(1),
                           'endstop' : 0.0},
                  'delta': {'chamber': params.DELTA_C|default(5)|float|round(1), 
                            'bed'    : params.DELTA_B|default(10)|float|round(1)},
                  'redo_qgl'         : True,
                  'z_adjust'         : params.Z_ADJUST|default(0.0)|float,
                  'filter'           : False if params.FILTER|default(1)|int == 0 else True,
                  'retract'          : params.RETRACT_LEN|default(0.35)|float|round(2),
                  'pressure_advance' : params.PRESSURE_ADVANCE|default(0.025)|float|round(3)} %}

    CLEAR_PAUSE

    # SET_RETRACTION RETRACT_LENGTH={var.retract}
    # SET_PRESSURE_ADVANCE EXTRUDER=extruder ADVANCE={var.pressure_advance}

    M140 S{var.temp.bed}      ; heat bed
    M104 S150 ; Heat nozzle to soften filament leftovers
    #M104 S{var.temp.extruder} ; heat extruder

#SET_FILAMENT_SENSOR SENSOR=encoder_sensor ENABLE=0

    {% if not 'xyz' in printer.toolhead.homed_axes %}
       G32                        ; home all axes
    {% endif %}
    {% if printer.quad_gantry_level.applied|lower == 'false' %}
        QUAD_GANTRY_LEVEL
    {% endif %}
    
    G90                           ; absolute positioning
    # G0 Z20 F3000                ; move nozzle away from bed
    BLOBIFIER_PARK

    M109 S150 ; Ensure nozzle is at 150C, in case it was hot when print started.
    #M109 S{var.temp.extruder} ; heat extruder and wait
    M190 S{var.temp.bed}      ; heat bed and wait

    BLOBIFIER_CLEAN
    # CLEAN_NOZZLE
    G0 Z5 F3000                   ; move nozzle away from bed
    
    SET_GCODE_OFFSET Z=0 ; Reset Z offset
    G90 ; Set to absolute positioning

    CARTOGRAPHER_TOUCH_HOME ; Home for real Z0
    
    M104 S{var.temp.extruder} ; heat extruder

    BED_MESH_CALIBRATE ADAPTIVE=1
    #BED_MESH_CALIBRATE MESH_MIN={MINX},{MINY} MESH_MAX={MAXX},{MAXY} PROBE_COUNT={X_COUNT},{Y_COUNT} Relative_reference_index={RRI}
    BLOBIFIER_PARK

[gcode_macro PRINT_START]
description: All cmd needed at print start
variable_save_params: {'retract' : 0.0,
                       'pressure_advance'  : 0.0 }

variable_var: {'temp'        : {'extruder': 245.0, 'bed': 100.0, 'chamber': 40.0, 'endstop': 0.0},
               'delta'       : {'chamber': 5.0, 'bed': 10},
               'time'        : {'soak' : 1800, 'soak_extra': 900},
               'redo_qgl'    : True,
               'prime_height': 0.0,
               'z_adjust'    : 0.0,
               'filter'      : True,
               'retract'     : '0',
               'pressure_advance' : '0'}

;Start Gcode
gcode:
#    {% if printer['firmware_retraction'].retract_length > 0 %}
#       {% set save_params = {'retract'           : printer['firmware_retraction'].retract_length|default(0)|float|round(2),
#                             'pressure_advance'  : printer['extruder'].pressure_advance|default(0)|float|round(3)} %}
#       { action_respond_info("Saved retract: %.2f pressure_advance: %.3f" % (save_params.retract, save_params.pressure_advance)) }
#    {% else %}
#       { action_respond_info("Retract and pressure_advance not stored as they are zero value.") }
#    {% endif %}

    #############  Store input parameters  #############
    {% set MINX = params.MINX|default(printer.configfile.settings.bed_mesh.mesh_min[0])|float %}
    {% set MINY = params.MINY|default(printer.configfile.settings.bed_mesh.mesh_min[1])|float %}    
    {% set MAXX = params.MAXX|default(printer.configfile.settings.bed_mesh.mesh_max[0])|float %}
    {% set MAXY = params.MAXY|default(printer.configfile.settings.bed_mesh.mesh_max[1])|float %}

    {% set MINX = (MINX if MINX|float > printer.configfile.settings.bed_mesh.mesh_min[0]|float else printer.configfile.settings.bed_mesh.mesh_min[0])|float %}
    {% set MINY = (MINY if MINY|float > printer.configfile.settings.bed_mesh.mesh_min[1]|float else printer.configfile.settings.bed_mesh.mesh_min[1])|float %}
    {% set MAXX = (MAXX if MAXX|float < printer.configfile.settings.bed_mesh.mesh_max[0]|float else printer.configfile.settings.bed_mesh.mesh_max[0])|float %}
    {% set MAXY = (MAXY if MAXY|float < printer.configfile.settings.bed_mesh.mesh_max[1]|float else printer.configfile.settings.bed_mesh.mesh_max[1])|float %}

    {% set X_COUNT = ((MAXX-MINX)/40)|int %}
    {% set Y_COUNT = ((MAXY-MINY)/40)|int %}
    {% set X_COUNT = X_COUNT if  X_COUNT > 3 else 3 %}
    {% set Y_COUNT = Y_COUNT if  Y_COUNT > 3 else 3 %}
    {% set X_COUNT = ((Y_COUNT+1)/2)|int if (Y_COUNT|float/X_COUNT|float) > 2.0 else X_COUNT %}
    {% set Y_COUNT = ((X_COUNT+1)/2)|int if (X_COUNT|float/Y_COUNT|float) > 2.0 else Y_COUNT %}

    {% set RRI = ((X_COUNT * Y_COUNT) / 2 + 1)|int %}

    {action_respond_info( "MINX %.2f, MINY %.2f, MAXX %.2f, MAXY %.2f, X_COUNT %d, Y_COUNT %d, RRI %d\n" % ( MINX, MINY, MAXX, MAXY, X_COUNT, Y_COUNT, RRI) )}
 
    {% set var = {'temp': {'extruder': params.EXTRUDER_TEMP|default(245)|float|round(1),
                           'bed'     : params.BED_TEMP|default(100)|float|round(1),
                           'chamber' : params.CHAMBER_TEMP|default(50)|float|round(1),
                           'endstop' : 0.0},
                  'delta': {'chamber': params.DELTA_C|default(5)|float|round(1), 
                            'bed'    : params.DELTA_B|default(10)|float|round(1)},
                  'redo_qgl'         : True,
                  'z_adjust'         : params.Z_ADJUST|default(0.0)|float,
                  'filter'           : False if params.FILTER|default(1)|int == 0 else True,
                  'retract'          : params.RETRACT_LEN|default(0.35)|float|round(2),
                  'pressure_advance' : params.PRESSURE_ADVANCE|default(0.025)|float|round(3)} %}

    CLEAR_PAUSE

    SET_FAN_SPEED FAN=exhaust_fan1 SPEED=0.5
    SET_FAN_SPEED FAN=exhaust_fan2 SPEED=0.5

    BLOBIFIER_PARK
  
    M190 S{var.temp.bed}      ; heat bed and wait
    M109 S{var.temp.extruder} ; heat extruder and wait

    BLOBIFIER_QGL PURGE_LENGTH=30
    G92 E0                      ; zero the extruder
    G10                         ; retract filament
    
    #SET_VELOCITY_LIMIT ACCEL=30000 VELOCITY=500 SQUARE_CORNER_VELOCITY=30
    G0 Z1 F6000
    G0 X{MINX} Y{MAXY} F30000
    G11                         ; unretract filament

[gcode_macro PRINT_END]
#   Use PRINT_END for the slicer ending script - please customise for your slicer of choice
gcode:
    { action_respond_info("PRINT END started") }
    #M400                           ; wait for buffer to clear
    # SET_FILAMENT_SENSOR SENSOR=encoder_sensor ENABLE=0
    #G92 E0                         ; zero the extruder
    #G1 E-2.0 F3600                 ; retract filament
    #G91                            ; relative positioning
    # G0 Z1.00 X20.0 Y20.0 F20000    ; move nozzle to remove stringing
    TURN_OFF_HEATERS
    #G1 E-2.0 F3600
    M107                           ; turn off fan
    # G0 Z2 F3000                    ; move nozzle up 2mm
    # G90                            ; absolute positioning
    # G0 X80 Y352 F8000              ; park nozzle at rear
    BLOBIFIER_CLEAN
    # CLEAR_PAUSE
    {% set save_params = printer['gcode_macro PRINT_START'].save_params %}
     # SET_RETRACTION RETRACT_LENGTH={save_params.retract}
     # SET_PRESSURE_ADVANCE EXTRUDER=extruder ADVANCE={save_params.pressure_advance}
    { action_respond_info("Saved retract: %.2f pressure_advance: %.3f" % (save_params.retract, save_params.pressure_advance)) }
    SET_FAN_SPEED FAN=exhaust_fan1 SPEED=0
    SET_FAN_SPEED FAN=exhaust_fan2 SPEED=0
    
## 	Thermistor Types
##   "EPCOS 100K B57560G104F"
##   "ATC Semitec 104GT-2"
##   "NTC 100K beta 3950"
##   "Honeywell 100K 135-104LAG-J01"
##   "NTC 100K MGB18-104F39050L32" (Keenovo Heater Pad)
##   "AD595"
##   "PT100 INA826"

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [stepper_z]
#*# position_endstop = 1.419
#*#
#*# [bed_mesh cold]
#*# version = 1
#*# points =
#*# 	0.076458, 0.065104, 0.050208, 0.019583, -0.008646, 0.016875, 0.045938, 0.036458, 0.076563
#*# 	0.054896, 0.054063, 0.017708, 0.006667, -0.011771, -0.015625, 0.005625, 0.047500, 0.085417
#*# 	0.065625, 0.045000, -0.016354, -0.008854, -0.028437, -0.038333, 0.013646, 0.019583, 0.047188
#*# 	0.063750, 0.032917, 0.005313, 0.021146, -0.016771, -0.016354, -0.010937, 0.024896, 0.056979
#*# 	0.026771, 0.000000, 0.014167, -0.021458, -0.020417, -0.033333, -0.006563, 0.026146, 0.045833
#*# 	0.043958, 0.018021, -0.011875, -0.030833, -0.034479, -0.041042, 0.000833, 0.012396, 0.069687
#*# 	0.044583, -0.003021, -0.004688, -0.042708, -0.030833, -0.046354, -0.034792, -0.009167, 0.047187
#*# 	0.033750, 0.011979, 0.004271, -0.003333, -0.034792, -0.044375, 0.000521, 0.003646, 0.087604
#*# 	0.062917, 0.002292, 0.006146, 0.013437, -0.027188, -0.036771, -0.036875, 0.005208, 0.061667
#*# tension = 0.2
#*# min_x = 35.0
#*# algo = bicubic
#*# y_count = 9
#*# mesh_y_pps = 4
#*# min_y = 35.0
#*# x_count = 9
#*# max_y = 315.0
#*# mesh_x_pps = 4
#*# max_x = 315.0
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	0.112577, 0.101508, 0.084755, 0.064425, 0.045685, 0.026678, 0.007653, -0.003881, -0.011513, -0.013556, -0.019293, -0.013423, -0.009602, 0.001826, 0.005625, 0.007522, 0.007653, 0.011444, 0.019136, 0.032318, 0.038199, 0.051161, 0.064427, 0.071838, 0.077503, 0.090397, 0.097852, 0.099680, 0.108930, 0.116220
#*# 	0.105047, 0.101508, 0.084876, 0.068135, 0.053150, 0.028558, 0.019136, 0.011444, 0.007653, 0.001958, -0.001979, -0.007823, -0.000077, 0.019009, 0.019009, 0.011571, 0.015098, 0.021021, 0.024792, 0.034325, 0.043813, 0.053025, 0.060593, 0.066159, 0.083033, 0.103337, 0.105285, 0.116220, 0.121665, 0.123481
#*# 	0.094064, 0.090397, 0.081192, 0.066159, 0.055010, 0.041697, 0.030437, 0.019136, 0.015098, 0.013462, 0.003729, 0.007522, 0.003729, 0.013207, 0.020767, 0.026678, 0.017244, 0.019136, 0.026678, 0.028684, 0.034198, 0.041697, 0.051283, 0.060593, 0.071838, 0.086718, 0.094183, 0.107107, 0.110639, 0.127100
#*# 	0.090397, 0.079231, 0.064427, 0.056870, 0.051283, 0.037946, 0.024792, 0.021021, 0.019009, 0.013207, 0.011444, 0.003857, 0.003729, 0.013335, 0.015098, 0.015225, 0.015352, 0.011316, 0.015352, 0.019136, 0.022652, 0.030437, 0.038072, 0.049416, 0.060586, 0.075655, 0.090397, 0.107107, 0.112340, 0.116220
#*# 	0.079110, 0.079351, 0.068135, 0.060593, 0.051161, 0.038072, 0.030437, 0.022906, 0.019009, 0.015098, 0.005757, 0.003729, 0.003857, 0.007653, 0.011316, 0.013334, 0.019009, 0.013334, 0.019136, 0.022906, 0.024792, 0.034325, 0.049416, 0.056870, 0.064427, 0.066279, 0.079231, 0.088558, 0.103218, 0.115983
#*# 	0.086718, 0.082913, 0.073564, 0.064303, 0.056870, 0.045685, 0.036072, 0.028558, 0.026551, 0.017244, 0.011444, 0.007522, 0.009546, 0.015352, 0.020767, 0.024792, 0.026678, 0.032318, 0.036198, 0.039943, 0.047425, 0.055010, 0.060593, 0.068015, 0.079351, 0.083033, 0.094183, 0.103218, 0.121665, 0.119849
#*# 	0.097852, 0.095898, 0.090397, 0.077383, 0.064427, 0.055010, 0.045434, 0.041819, 0.038072, 0.028558, 0.015225, 0.013207, 0.015352, 0.026678, 0.030437, 0.034198, 0.038072, 0.038072, 0.045685, 0.053150, 0.060593, 0.064303, 0.071713, 0.077503, 0.086718, 0.096137, 0.105166, 0.108930, 0.119849, 0.134451
#*# 	0.097971, 0.094064, 0.084876, 0.069988, 0.058732, 0.049416, 0.043813, 0.034198, 0.032318, 0.022779, 0.019009, 0.009551, 0.013207, 0.026678, 0.028431, 0.030564, 0.036198, 0.038072, 0.045434, 0.047425, 0.055010, 0.058732, 0.064303, 0.071838, 0.077383, 0.094064, 0.103218, 0.116220, 0.121779, 0.130839
#*# 	0.077503, 0.079231, 0.069988, 0.056870, 0.045559, 0.037946, 0.026805, 0.021021, 0.015225, 0.013335, 0.003729, -0.000077, -0.000077, 0.009419, 0.013334, 0.021021, 0.022652, 0.024792, 0.026678, 0.030437, 0.038072, 0.047425, 0.053150, 0.058732, 0.069988, 0.077503, 0.088558, 0.097852, 0.105285, 0.119849
#*# 	0.071838, 0.064427, 0.055010, 0.045559, 0.038072, 0.024792, 0.016990, 0.011316, 0.007653, -0.003881, -0.003881, -0.007690, -0.000077, 0.007522, 0.009551, 0.013462, 0.019136, 0.017117, 0.022906, 0.022906, 0.032318, 0.041697, 0.049173, 0.051283, 0.062448, 0.075655, 0.086718, 0.097852, 0.108930, 0.112340
#*# 	0.071713, 0.064427, 0.060593, 0.049295, 0.039821, 0.030437, 0.021021, 0.017244, 0.015352, 0.003729, -0.001979, -0.001979, 0.001958, 0.007522, 0.015352, 0.019136, 0.022906, 0.024665, 0.026678, 0.030437, 0.034325, 0.041941, 0.043691, 0.052899, 0.066159, 0.079351, 0.090397, 0.099561, 0.106992, 0.119849
#*# 	0.068015, 0.064303, 0.054885, 0.045685, 0.036072, 0.028558, 0.024792, 0.015098, 0.009551, -0.000077, -0.005785, -0.003881, 0.001954, 0.007653, 0.013334, 0.019136, 0.022652, 0.026551, 0.028558, 0.034198, 0.036072, 0.045685, 0.043813, 0.056870, 0.071713, 0.083033, 0.094064, 0.105285, 0.112575, 0.116220
#*# 	0.058732, 0.060714, 0.053025, 0.039821, 0.030437, 0.022906, 0.020894, 0.013335, -0.000077, -0.005785, -0.009602, -0.015467, -0.013423, -0.007690, 0.003729, 0.007653, 0.007653, 0.013335, 0.016990, 0.022906, 0.026678, 0.034198, 0.043565, 0.049173, 0.056870, 0.068135, 0.077503, 0.086718, 0.090397, 0.099561
#*# 	0.045434, 0.043813, 0.034325, 0.026678, 0.018882, 0.009546, 0.005625, -0.005785, -0.011770, -0.019293, -0.025048, -0.030948, -0.027104, -0.019293, -0.011513, -0.005785, -0.001979, -0.000077, 0.005757, 0.011571, 0.019136, 0.020767, 0.032444, 0.038072, 0.047303, 0.053150, 0.068135, 0.075655, 0.084876, 0.079110
#*# 	0.030437, 0.034198, 0.022779, 0.013462, 0.003729, -0.007690, -0.009602, -0.019293, -0.030948, -0.030948, -0.040725, -0.042521, -0.042521, -0.038661, -0.030948, -0.021213, -0.015467, -0.011513, -0.005785, -0.000077, 0.003729, 0.007522, 0.015352, 0.024665, 0.032318, 0.041819, 0.051283, 0.058857, 0.068135, 0.075655
#*# 	0.022906, 0.015352, 0.005625, -0.001979, -0.011642, -0.023129, -0.023129, -0.034805, -0.044593, -0.050403, -0.056228, -0.056362, -0.054281, -0.048463, -0.034805, -0.023129, -0.027104, -0.027104, -0.017380, -0.015599, -0.003881, -0.000077, 0.007785, 0.015352, 0.021021, 0.034325, 0.036199, 0.053150, 0.053150, 0.064303
#*# 	0.019136, 0.022906, 0.007653, -0.003881, -0.013423, -0.023258, -0.027104, -0.034672, -0.044455, -0.054281, -0.058309, -0.058309, -0.060115, -0.052342, -0.040591, -0.030948, -0.032877, -0.026971, -0.019426, -0.011513, -0.005785, 0.001826, 0.007522, 0.013207, 0.022906, 0.028558, 0.036072, 0.041819, 0.049416, 0.056870
#*# 	0.026678, 0.030564, 0.019136, 0.007653, -0.001979, -0.013423, -0.017247, -0.026971, -0.034805, -0.044589, -0.048463, -0.050403, -0.046526, -0.036733, -0.030948, -0.023258, -0.017247, -0.007823, -0.000077, 0.005625, 0.011444, 0.015352, 0.024665, 0.026678, 0.036072, 0.038072, 0.047303, 0.054889, 0.066279, 0.064552
#*# 	0.041941, 0.043687, 0.041697, 0.030564, 0.017117, 0.009546, 0.003857, -0.001979, -0.009602, -0.019293, -0.025181, -0.027104, -0.025181, -0.021080, -0.013423, -0.003881, 0.001958, 0.015098, 0.019136, 0.026805, 0.030564, 0.037946, 0.039948, 0.047303, 0.056870, 0.060593, 0.066159, 0.071838, 0.079231, 0.083033
#*# 	0.064552, 0.066279, 0.058732, 0.049416, 0.036072, 0.022779, 0.022906, 0.015352, 0.011316, 0.001958, -0.000077, -0.003881, -0.003881, 0.003729, 0.011444, 0.019136, 0.020894, 0.030437, 0.037946, 0.047425, 0.052899, 0.060593, 0.064303, 0.068135, 0.077503, 0.084876, 0.088558, 0.101508, 0.094184, 0.101627
#*# 	0.073684, 0.073688, 0.069864, 0.064303, 0.053025, 0.037946, 0.030437, 0.034198, 0.022779, 0.015352, 0.013207, 0.007653, 0.005753, 0.009551, 0.015098, 0.019136, 0.022779, 0.030437, 0.036199, 0.041819, 0.047303, 0.058857, 0.064303, 0.069985, 0.075535, 0.081192, 0.090397, 0.094064, 0.094064, 0.103337
#*# 	0.070109, 0.071838, 0.064303, 0.056996, 0.051158, 0.034198, 0.026805, 0.022906, 0.019009, 0.011316, 0.015352, 0.007653, 0.005753, 0.007522, 0.011316, 0.015098, 0.019136, 0.022906, 0.028558, 0.032318, 0.030564, 0.045559, 0.056749, 0.060593, 0.069985, 0.075535, 0.079351, 0.086718, 0.086718, 0.088558
#*# 	0.064303, 0.069985, 0.060593, 0.053150, 0.043813, 0.036072, 0.019136, 0.019136, 0.015352, 0.007653, 0.005625, 0.003857, 0.003729, 0.007653, 0.007522, 0.009551, 0.015352, 0.019009, 0.019136, 0.026678, 0.030437, 0.039948, 0.045559, 0.053150, 0.060593, 0.066279, 0.073684, 0.079231, 0.081072, 0.082913
#*# 	0.068015, 0.068015, 0.056870, 0.049416, 0.041941, 0.030437, 0.019136, 0.015352, 0.019136, 0.011444, 0.007653, 0.009678, 0.011316, 0.015352, 0.015352, 0.013462, 0.015098, 0.019136, 0.021021, 0.026678, 0.028684, 0.039948, 0.045434, 0.053150, 0.064303, 0.069985, 0.073809, 0.079231, 0.079351, 0.083033
#*# 	0.075655, 0.068135, 0.064303, 0.060593, 0.045685, 0.034325, 0.030437, 0.022906, 0.020894, 0.017117, 0.015098, 0.015225, 0.015352, 0.024792, 0.022906, 0.018882, 0.021021, 0.021021, 0.024792, 0.030437, 0.039943, 0.047551, 0.053150, 0.058732, 0.064427, 0.073684, 0.077262, 0.081072, 0.082913, 0.086718
#*# 	0.086718, 0.079110, 0.071838, 0.064303, 0.051283, 0.043687, 0.041697, 0.030564, 0.030437, 0.026678, 0.026551, 0.021021, 0.028558, 0.028684, 0.037946, 0.036198, 0.032444, 0.038072, 0.037946, 0.043813, 0.049416, 0.055010, 0.062573, 0.068135, 0.075535, 0.082913, 0.088558, 0.094183, 0.094064, 0.097733
#*# 	0.082913, 0.081072, 0.066283, 0.056870, 0.043813, 0.030437, 0.036072, 0.034198, 0.030437, 0.026551, 0.022906, 0.022906, 0.024792, 0.026551, 0.032318, 0.036198, 0.034198, 0.036198, 0.041819, 0.045559, 0.049295, 0.054885, 0.058732, 0.064552, 0.073684, 0.081192, 0.086718, 0.095898, 0.099680, 0.105285
#*# 	0.099561, 0.094064, 0.081192, 0.071838, 0.053150, 0.043565, 0.040070, 0.038199, 0.041819, 0.047551, 0.043813, 0.041941, 0.041697, 0.045434, 0.043813, 0.045559, 0.045685, 0.049416, 0.051283, 0.060593, 0.064427, 0.068135, 0.069864, 0.079231, 0.084876, 0.097733, 0.097852, 0.110754, 0.108930, 0.116220
#*# 	0.112577, 0.101508, 0.088558, 0.077503, 0.060593, 0.049416, 0.045685, 0.045685, 0.049173, 0.049295, 0.049416, 0.045434, 0.045685, 0.051158, 0.053150, 0.053025, 0.056870, 0.053150, 0.062448, 0.066159, 0.071713, 0.075655, 0.075655, 0.083033, 0.088558, 0.096018, 0.103337, 0.105166, 0.114161, 0.116220
#*# 	0.116220, 0.105166, 0.090391, 0.077503, 0.058732, 0.049416, 0.049416, 0.047551, 0.049416, 0.045434, 0.045559, 0.041819, 0.043691, 0.051283, 0.055010, 0.056870, 0.058732, 0.060593, 0.066159, 0.071713, 0.073564, 0.077503, 0.079351, 0.081192, 0.092231, 0.103218, 0.105285, 0.112577, 0.112577, 0.112577
#*# x_count = 30
#*# y_count = 30
#*# mesh_x_pps = 0
#*# mesh_y_pps = 0
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 35.0
#*# max_x = 315.0
#*# min_y = 35.0
#*# max_y = 310.0
#*#
#*# [bed_mesh hot]
#*# version = 1
#*# points =
#*# 	0.245000, 0.165313, 0.092188, 0.105625, 0.088438, 0.116875, 0.139688, 0.172500, 0.183438
#*# 	0.164688, 0.118438, 0.083750, 0.138125, 0.077188, 0.084063, 0.098125, 0.111875, 0.130000
#*# 	0.120313, 0.071563, 0.050000, 0.016563, 0.030625, 0.036563, 0.049688, 0.082500, 0.103125
#*# 	0.090000, 0.060313, 0.030000, -0.002187, 0.033750, 0.019063, 0.046250, 0.070938, 0.081250
#*# 	0.075625, 0.038438, 0.009063, 0.003750, 0.000000, 0.002812, 0.030000, 0.053125, 0.054375
#*# 	0.096250, 0.038750, 0.019375, -0.011563, 0.009375, 0.027500, 0.032812, 0.031562, 0.063125
#*# 	0.109375, 0.090000, 0.045937, 0.020312, 0.024062, 0.025937, 0.041875, 0.065000, 0.064062
#*# 	0.170625, 0.121250, 0.083125, 0.089375, 0.070000, 0.084062, 0.115312, 0.104687, 0.111562
#*# 	0.207500, 0.157500, 0.145312, 0.124687, 0.125625, 0.138750, 0.158750, 0.152500, 0.164687
#*# x_count = 9
#*# y_count = 9
#*# mesh_x_pps = 4
#*# mesh_y_pps = 4
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 35.0
#*# max_x = 315.0
#*# min_y = 35.0
#*# max_y = 315.0
#*#
#*# [cartographer scan_model default]
#*# coefficients = 1.5082963366012152,1.990303195659707,0.8459345762218329,0.3654617319089522,0.3742790302460078,0.48170680297095686,-0.16983282816799825,-0.3931102329290258,0.2411336526815331,0.25691264402726693
#*# domain = 3.2841535854965876e-07,3.383277218681459e-07
#*# z_offset = 0
#*# reference_temperature = 42.15
#*#
#*# [cartographer touch_model default]
#*# threshold = 966
#*# speed = 2
#*# z_offset = -0.05
